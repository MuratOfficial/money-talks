# üîî –°–∏—Å—Ç–µ–º–∞ –ø—É—à-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—É—à-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ –∏–∑—É—á–µ–Ω–∏—é –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π.

## üìù –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. –•—É–∫ `useNotifications.ts`

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ö—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏:

```typescript
const {
  scheduleNotification,
  cancelNotification,
  getAllScheduledNotifications,
  sendImmediateNotification,
} = useNotifications();
```

**–§—É–Ω–∫—Ü–∏–∏:**
- `scheduleNotification()` - –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- `scheduleRepeatingNotification()` - –ü–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- `cancelNotification()` - –û—Ç–º–µ–Ω–∏—Ç—å –ø–æ ID
- `cancelAllNotifications()` - –û—Ç–º–µ–Ω–∏—Ç—å –≤—Å–µ
- `getAllScheduledNotifications()` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫
- `sendImmediateNotification()` - –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

### 2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `InvestmentNotificationManager.tsx`

UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –æ–± –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è—Ö.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞
- ‚úÖ –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
- ‚úÖ –û—Ç–º–µ–Ω–∞ –≤—Å–µ—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–≤–µ—Ç–ª–æ–π/—Ç–µ–º–Ω–æ–π —Ç–µ–º—ã

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ—Ñ–∏–ª—å

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ `app/main/profile/index.tsx` –º–µ–∂–¥—É –∞–≤–∞—Ç–∞—Ä–æ–º –∏ –º–µ–Ω—é.

## üéØ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è—Ö

### –¢–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ó–∞–≥–æ–ª–æ–≤–æ–∫:**
```
üéì –ù–µ –∑–Ω–∞–µ—à—å, —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å?
```

**–¢–µ–ª–æ:**
```
–°–º–æ—Ç—Ä–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –≤–∏–¥–µ–æ—É—Ä–æ–∫
```

### –ù–∞–≤–∏–≥–∞—Ü–∏—è

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞:
```
/main/invest
```

## üé® UI/UX

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```tsx
<InvestmentNotificationManager />
```

**–≠–ª–µ–º–µ–Ω—Ç—ã:**
1. **–ó–∞–≥–æ–ª–æ–≤–æ–∫** —Å –∏–∫–æ–Ω–∫–æ–π –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–∞
2. **–û–ø–∏—Å–∞–Ω–∏–µ** —Ñ—É–Ω–∫—Ü–∏–∏
3. **–°—Ç–∞—Ç—É—Å** (–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ/–Ω–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ)
4. **–ö–Ω–æ–ø–∫–∏:**
   - "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ" (—Å–∏–Ω—è—è)
   - "–¢–µ—Å—Ç (—á–µ—Ä–µ–∑ 5 —Å–µ–∫)" (—Å–µ—Ä–∞—è)
   - "–û—Ç–º–µ–Ω–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è" (–∫—Ä–∞—Å–Ω–∞—è)

### –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ù–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ:**
- –î–≤–µ –∫–Ω–æ–ø–∫–∏: –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç–µ—Å—Ç
- –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Ñ–æ–Ω

**–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ:**
- –ó–µ–ª–µ–Ω—ã–π –±–µ–π–¥–∂ —Å –≥–∞–ª–æ—á–∫–æ–π
- –ö–Ω–æ–ø–∫–∞ –æ—Ç–º–µ–Ω—ã (–∫—Ä–∞—Å–Ω–∞—è)

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```json
{
  "expo-notifications": "~14.0.0"
}
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npx expo install expo-notifications
```

### –†–∞–∑—Ä–µ—à–µ–Ω–∏—è

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏:
- iOS: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Android: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è + –∫–∞–Ω–∞–ª

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Android

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–∞–Ω–∞–ª:
```typescript
{
  name: 'default',
  importance: AndroidImportance.MAX,
  vibrationPattern: [0, 250, 250, 250],
  lightColor: '#FF231F7C',
}
```

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ

```typescript
import { useNotifications } from '@/hooks/useNotifications';

const { scheduleNotification } = useNotifications();

// –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞
await scheduleNotification(
  'üéì –ù–µ –∑–Ω–∞–µ—à—å, —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å?',
  '–°–º–æ—Ç—Ä–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –≤–∏–¥–µ–æ—É—Ä–æ–∫',
  86400, // 24 —á–∞—Å–∞
  { screen: '/main/invest' }
);
```

### –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

```typescript
// –ß–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
await scheduleNotification(
  'üéì –ù–µ –∑–Ω–∞–µ—à—å, —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å?',
  '–°–º–æ—Ç—Ä–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –≤–∏–¥–µ–æ—É—Ä–æ–∫',
  5,
  { screen: '/main/invest' }
);
```

### –û—Ç–º–µ–Ω–∞

```typescript
// –û—Ç–º–µ–Ω–∏—Ç—å –≤—Å–µ
await cancelAllNotifications();

// –û—Ç–º–µ–Ω–∏—Ç—å –ø–æ ID
await cancelNotification(notificationId);
```

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å**
2. **–í–∏–¥–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏**
3. **–ù–∞–∂–∏–º–∞–µ—Ç "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ"**
4. **–°–∏—Å—Ç–µ–º–∞:**
   - –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   - –ü–ª–∞–Ω–∏—Ä—É–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ"
5. **–ß–µ—Ä–µ–∑ 24 —á–∞—Å–∞:**
   - –ü—Ä–∏—Ö–æ–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
   - –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/main/invest`

## üéØ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø—Ä–∏ –∫–ª–∏–∫–µ

```typescript
responseListener.current = Notifications.addNotificationResponseReceivedListener(response => {
  const data = response.notification.request.content.data;
  
  if (data?.screen) {
    router.push(data.screen); // ‚Üí /main/invest
  }
});
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –í—Ä–µ–º—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: **24 —á–∞—Å–∞** (86400 —Å–µ–∫—É–Ω–¥)

–ò–∑–º–µ–Ω–∏—Ç—å –≤ `InvestmentNotificationManager.tsx`:
```typescript
const handleScheduleNotification = async () => {
  await scheduleNotification(
    'üéì –ù–µ –∑–Ω–∞–µ—à—å, —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å?',
    '–°–º–æ—Ç—Ä–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –≤–∏–¥–µ–æ—É—Ä–æ–∫',
    86400, // ‚Üê –ò–∑–º–µ–Ω–∏—Ç—å –∑–¥–µ—Å—å
    { screen: '/main/invest' }
  );
};
```

### –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–î–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π:
```typescript
await scheduleRepeatingNotification(
  'üéì –ù–µ –∑–Ω–∞–µ—à—å, —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å?',
  '–°–º–æ—Ç—Ä–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –≤–∏–¥–µ–æ—É—Ä–æ–∫',
  86400, // –ö–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
  { screen: '/main/invest' }
);
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

```typescript
const { status } = await Notifications.getPermissionsAsync();
console.log('Permission status:', status);
```

### –°–ø–∏—Å–æ–∫ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö

```typescript
const scheduled = await getAllScheduledNotifications();
console.log('Scheduled notifications:', scheduled);
```

### –õ–æ–≥–∏

```typescript
// –í –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—è–≤—è—Ç—Å—è:
- "Expo Push Token: ..." (–ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ" (–ø—Ä–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏)
- "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–º–µ–Ω–µ–Ω—ã" (–ø—Ä–∏ –æ—Ç–º–µ–Ω–µ)
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚úÖ –ü–æ–≤—ã—à–∞–µ—Ç –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ú–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –∫ –∏–∑—É—á–µ–Ω–∏—é –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å (iOS/Android)

## üìä –ú–µ—Ç—Ä–∏–∫–∏

–ú–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ü—Ä–æ—Ü–µ–Ω—Ç –∫–ª–∏–∫–æ–≤ –ø–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–∑–¥–µ–ª–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—Ü–µ–ª–∏, —Å–æ–≤–µ—Ç—ã, –Ω–æ–≤–æ—Å—Ç–∏)
- [ ] –£–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å—Ç–æ—Ç—ã –≤ –ø—Ä–æ—Ñ–∏–ª–µ

---

**–î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è**: 2025-12-18  
**–§–∞–π–ª—ã:**
- `hooks/useNotifications.ts`
- `app/components/InvestmentNotificationManager.tsx`
- `app/main/profile/index.tsx`

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
