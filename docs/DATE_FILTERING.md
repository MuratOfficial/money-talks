# üìÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–¥–æ—Ö–æ–¥–æ–≤, —Ä–∞—Å—Ö–æ–¥–æ–≤, –∞–∫—Ç–∏–≤–æ–≤, –ø–∞—Å—Å–∏–≤–æ–≤) –ø–æ –¥–∞—Ç–µ –∏—Ö —Å–æ–∑–¥–∞–Ω–∏—è.

---

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. **–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `createdAt` –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Asset**

```typescript
export interface Asset {
  id: string;
  name: string;
  amount: number;
  yield?: number;
  additional?: number;
  icon?: string;
  iconType?: string;
  color?: string;
  regularity?: string;
  categoryTab?: string;
  createdAt?: Date; // ‚Üê –ù–æ–≤–æ–µ –ø–æ–ª–µ
}
```

### 2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞—Ç—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏**

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç `createdAt`:

```typescript
// –î–æ—Ö–æ–¥—ã
addIncomes: (income) => set((state) => {
  const newIncome: Asset = {
    ...income,
    id: state.generateId(),
    createdAt: new Date() // ‚Üê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  };
  // ...
});

// –†–∞—Å—Ö–æ–¥—ã
addExpences: (expence) => set((state) => {
  const newExpence: Asset = {
    ...expence,
    id: state.generateId(),
    createdAt: new Date() // ‚Üê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  };
  // ...
});

// –ê–∫—Ç–∏–≤—ã
addActives: (active) => set((state) => {
  const newActive: Asset = {
    ...active,
    id: state.generateId(),
    createdAt: new Date() // ‚Üê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  };
  // ...
});

// –ü–∞—Å—Å–∏–≤—ã
addPassives: (passive) => set((state) => {
  const newPassive: Asset = {
    ...passive,
    id: state.generateId(),
    createdAt: new Date() // ‚Üê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  };
  // ...
});
```

### 3. **–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**

–°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `utils/dateFilters.ts` —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏:

#### `filterAssetsByDate()`
–§–∏–ª—å—Ç—Ä—É–µ—Ç –∞–∫—Ç–∏–≤—ã –ø–æ –ø–µ—Ä–∏–æ–¥—É:

```typescript
const filtered = filterAssetsByDate(assets, '–ó–∞ –º–µ—Å—è—Ü');
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–µ—Ä–∏–æ–¥—ã:**
- `'–°–µ–≥–æ–¥–Ω—è'` - –¢–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- `'–ó–∞ –º–µ—Å—è—Ü'` - –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
- `'–ó–∞ –≥–æ–¥'` - –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 365 –¥–Ω–µ–π
- `'–í—Å–µ –≤—Ä–µ–º—è'` - –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã

#### `getAssetCountsByPeriod()`
–ü–æ–ª—É—á–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞:

```typescript
const counts = getAssetCountsByPeriod(assets);
// { today: 5, month: 23, year: 156, all: 200 }
```

#### `formatAssetDate()`
–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–∞—Ç—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:

```typescript
formatAssetDate(new Date()); // "–°–µ–≥–æ–¥–Ω—è"
formatAssetDate(yesterday); // "–í—á–µ—Ä–∞"
formatAssetDate(someDate); // "15 –¥–µ–∫–∞–±—Ä—è 2024"
```

#### `groupAssetsByDate()`
–ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –∞–∫—Ç–∏–≤—ã –ø–æ –¥–∞—Ç–∞–º:

```typescript
const grouped = groupAssetsByDate(assets);
// {
//   "–°–µ–≥–æ–¥–Ω—è": [asset1, asset2],
//   "–í—á–µ—Ä–∞": [asset3],
//   "15 –¥–µ–∫–∞–±—Ä—è 2024": [asset4, asset5]
// }
```

---

## üìä –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### ‚úÖ 1. **PageComponents** (`app/components/PageComponents.tsx`)

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:**
- –î–æ—Ö–æ–¥—ã (`finance/incomes/main.tsx`)
- –†–∞—Å—Ö–æ–¥—ã (`finance/expences/main.tsx`)
- –ê–∫—Ç–∏–≤—ã (—Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
- –ü–∞—Å—Å–∏–≤—ã (—Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:**
```tsx
// –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç–∏
const filteredByRegularity = currentRegOption === 'regular' 
  ? liquidAssets 
  : currentRegOption === 'irregular' 
    ? illiquidAssets 
    : (assets || []);

// –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
const filteredByCategory = (categories && categories[0].id !== "effect") 
  ? filteredByRegularity.filter(x=>x.categoryTab===currentCategoryOption) 
  : filteredByRegularity;

// –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ
const currentAssets = filterAssetsByDate(
  filteredByCategory, 
  selectedSortFilter as DateFilterType
);
```

**UI —Ñ–∏–ª—å—Ç—Ä–∞:**
```tsx
<Drawer 
  title='–ü–µ—Ä–∏–æ–¥'
  visible={showDrawerFilter}
  onClose={() => setShowDrawerFilter(false)}
  onSelect={handleSortSelectFilter}
  selectedValue={selectedSortFilter}
  options={['–°–µ–≥–æ–¥–Ω—è', '–ó–∞ –º–µ—Å—è—Ü', '–ó–∞ –≥–æ–¥', '–í—Å–µ –≤—Ä–µ–º—è']}
/>
```

---

## üé® –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ö–Ω–æ–ø–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –î–æ—Ö–æ–¥—ã                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [–í—Å–µ] [–†–µ–≥—É–ª—è—Ä–Ω—ã–µ] ...  ‚îÇ
‚îÇ                         ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ –°–µ–≥–æ–¥–Ω—è ‚ñº          ‚îÇ ‚îÇ ‚Üê –§–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                         ‚îÇ
‚îÇ –°–ø–∏—Å–æ–∫ –¥–æ—Ö–æ–¥–æ–≤...       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Drawer —Å –æ–ø—Ü–∏—è–º–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      –ü–µ—Ä–∏–æ–¥        ‚úï    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚óã –°–µ–≥–æ–¥–Ω—è               ‚îÇ
‚îÇ ‚óè –ó–∞ –º–µ—Å—è—Ü              ‚îÇ ‚Üê –í—ã–±—Ä–∞–Ω–æ
‚îÇ ‚óã –ó–∞ –≥–æ–¥                ‚îÇ
‚îÇ ‚óã –í—Å–µ –≤—Ä–µ–º—è             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     [–í—ã–±—Ä–∞—Ç—å]           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

```tsx
import { filterAssetsByDate } from '@/utils/dateFilters';

const MyComponent = () => {
  const { incomes } = useFinancialStore();
  const [period, setPeriod] = useState('–ó–∞ –º–µ—Å—è—Ü');
  
  const filteredIncomes = filterAssetsByDate(incomes, period);
  
  return (
    <View>
      {filteredIncomes.map(income => (
        <IncomeCard key={income.id} {...income} />
      ))}
    </View>
  );
};
```

### –ü—Ä–∏–º–µ—Ä 2: –° –ø–æ–¥—Å—á–µ—Ç–æ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```tsx
import { getAssetCountsByPeriod } from '@/utils/dateFilters';

const StatsComponent = () => {
  const { expences } = useFinancialStore();
  const counts = getAssetCountsByPeriod(expences);
  
  return (
    <View>
      <Text>–°–µ–≥–æ–¥–Ω—è: {counts.today}</Text>
      <Text>–ó–∞ –º–µ—Å—è—Ü: {counts.month}</Text>
      <Text>–ó–∞ –≥–æ–¥: {counts.year}</Text>
      <Text>–í—Å–µ–≥–æ: {counts.all}</Text>
    </View>
  );
};
```

### –ü—Ä–∏–º–µ—Ä 3: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–∞–º

```tsx
import { groupAssetsByDate } from '@/utils/dateFilters';

const GroupedList = () => {
  const { actives } = useFinancialStore();
  const grouped = groupAssetsByDate(actives);
  
  return (
    <ScrollView>
      {Object.entries(grouped).map(([date, assets]) => (
        <View key={date}>
          <Text>{date}</Text>
          {assets.map(asset => (
            <AssetCard key={asset.id} {...asset} />
          ))}
        </View>
      ))}
    </ScrollView>
  );
};
```

---

## üîÑ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–î–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–µ–∑ `createdAt`:
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤–æ –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–∞—Ö
- ‚úÖ –ù–µ –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–æ–∫
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ "–î–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞"

```typescript
if (!asset.createdAt) {
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
  return true;
}
```

---

## üìù –§–∞–π–ª—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–°–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã —É–ø–æ–º—è–Ω—É—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –Ω–æ –µ—â–µ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã:

### ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

1. **`app/components/Diagram.tsx`**
   - –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –¥–∞—Ç–∞–º –¥–ª—è –¥–∏–∞–≥—Ä–∞–º–º

2. **`app/main/finance/analyze/main.tsx`**
   - –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

3. **`app/main/finance/incomes/main.tsx`**
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PageComponents (—É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω)

4. **`app/main/finance/expences/main.tsx`**
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PageComponents (—É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω)

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏:

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å `createdAt` –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Asset
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å PageComponents
5. ‚è≥ –û–±–Ω–æ–≤–∏—Ç—å Diagram.tsx
6. ‚è≥ –û–±–Ω–æ–≤–∏—Ç—å analyze/main.tsx

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–û–±–Ω–æ–≤–ª–µ–Ω–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤** | 1 (Asset) |
| **–û–±–Ω–æ–≤–ª–µ–Ω–æ —Ñ—É–Ω–∫—Ü–∏–π** | 4 (add*) |
| **–°–æ–∑–¥–∞–Ω–æ —É—Ç–∏–ª–∏—Ç** | 4 —Ñ—É–Ω–∫—Ü–∏–∏ |
| **–û–±–Ω–æ–≤–ª–µ–Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** | 1 (PageComponents) |
| **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤** | 4 |

---

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ì–∏–±–∫–æ—Å—Ç—å** - 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
2. **–£–¥–æ–±—Å—Ç–≤–æ** - –ü—Ä–æ—Å—Ç–æ–π UI –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–µ—Ä–∏–æ–¥–∞
3. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
4. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - –£—Ç–∏–ª–∏—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–∑–¥–µ
5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-12-20  
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ (PageComponents –≥–æ—Ç–æ–≤)  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –û–±–Ω–æ–≤–∏—Ç—å Diagram.tsx –∏ analyze/main.tsx
